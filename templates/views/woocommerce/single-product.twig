{% extends 'base.twig' %}

{% block content %}

  <article class="single">

    <section class="wrapper wrapper--article-content">
      <div class="article-content">

        <div class="container">
          <div id="product-{{ post.id }}" {{ fn('post_class', ['product', 'product--' ~ post.product.get_type()]) }}>
            <div class="row">

              <div class="col-sm-4 col-md-6 col-lg-5 col-xl-4 product-images">
                {##
                  # woocommerce_before_single_product hook.
                  #
                  # @hooked wc_print_notices - 10
                  #}
                {% do action('woocommerce_before_single_product') %}

                {##
                  # woocommerce_before_single_product_summary hook.
                  #
                  # @hooked woocommerce_show_product_sale_flash - 10
                  # @hooked woocommerce_show_product_images - 20
                #}
                {% do action('woocommerce_before_single_product_summary') %}

                {# {% if post.thumbnail %}
                    <img src="{{ post.thumbnail.src('thumbnail') }}">
                {% endif %} #}

              </div>

              <div class="col-sm-8 col-md-6 col-lg-7 col-xl-8 product-content">
                <h1 class="h1 main-title" id="main-title">{{ post.title }}</h1>

                {{ breadcrumb }}


                <div class="product-summary">
                  {##
                    # woocommerce_single_product_summary hook.
                    #
                    # @hooked woocommerce_template_single_title - 5
                    # @hooked woocommerce_template_single_rating - 10
                    # @hooked woocommerce_template_single_price - 10
                    # @hooked woocommerce_template_single_excerpt - 20
                    # @hooked woocommerce_template_single_add_to_cart - 30
                    # @hooked woocommerce_template_single_meta - 40
                    # @hooked woocommerce_template_single_sharing - 50
                    # @hooked WC_Structured_Data::generate_product_data() - 60
                    #}
                  {% do action( 'woocommerce_single_product_summary' ) %}

                  {% if post.manage_stock %}
                    <div>{{ post.stock_quantity }} en stock</div>
                  {% endif %}

                  {# <div class="content">{{ post.content }}</div> #}
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </section>

    <section class="wrapper wrapper--padding bg-gray-lighter">
      <div class="container">
        {##
          # woocommerce_after_single_product_summary hook.
          #
          # @hooked woocommerce_output_product_data_tabs - 10
          # @hooked woocommerce_upsell_display - 15
          # @hooked woocommerce_output_related_products - 20
          #}
        {% do action('woocommerce_after_single_product_summary') %}

        {% do action('woocommerce_after_single_product') %}
      </div>
    </section>

    {% if related_products %}
    <section class="wrapper wrapper--padding bg-gray-light">
      <div class="container">

        <h2>Produits similaires</h2>
        <ul class="woo-list woo-list--products">

          {% for product in related_products %}
            <li class="woo-item">
              {% include 'partials/woocommerce/teaser-product.twig' with { post: product } %}
            </li>
          {% endfor %}
        </ul>

      </div>
    </section>
    {% endif %}

  </article>

{% endblock %}
